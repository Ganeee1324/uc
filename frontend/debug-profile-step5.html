<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Profile Step 5 - Profile HTML Structure</title>
    <link rel="stylesheet" href="css/profile.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap">
    
    <!-- Load search component first without defer -->
    <script src="components/search-section/search-section-component.js"></script>
</head>
<body data-page="dashboard">
    <!-- Mobile Menu Toggle Button -->
    <div class="hamburger" id="mobileMenuToggle">
        <input type="checkbox" id="mobileMenuCheckbox">
        <svg viewBox="0 0 100 100" width="80">
            <path class="line line1" d="M 20,29.000046 H 80.000231 C 80.231235,29.000046 80.424002,28.808162 80.424002,28.561346 C 80.424002,28.314531 80.231235,28.122647 80.000231,28.122647 H 20 C 19.768995,28.122647 19.576228,28.314531 19.576228,28.561346 C 19.576228,28.808162 19.768995,29.000046 20,29.000046 Z"></path>
            <path class="line line2" d="M 20,50 H 80.000231 C 80.231235,50 80.424002,49.808162 80.424002,49.561346 C 80.424002,49.314531 80.231235,49.122647 80.000231,49.122647 H 20 C 19.768995,49.122647 19.576228,49.314531 19.576228,49.561346 C 19.576228,49.808162 19.768995,50 20,50 Z"></path>
            <path class="line line3" d="M 20,70.999954 H 80.000231 C 80.231235,70.999954 80.424002,70.808162 80.424002,70.561346 C 80.424002,70.314531 80.231235,70.122647 80.000231,70.122647 H 20 C 19.768995,70.122647 19.576228,70.314531 19.576228,70.561346 C 19.576228,70.808162 19.768995,70.999954 20,70.999954 Z"></path>
        </svg>
    </div>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <!-- Sidebar content would go here -->
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div style="padding: 20px;">
            <h1>Debug Profile Step 5 - Profile HTML Structure</h1>
            <p>Testing if the profile HTML structure breaks the search component</p>
            
            <search-section-component></search-section-component>
        </div>
    </div>

    <!-- Professional Performance & Caching System -->
    <script src="js/config.js" defer></script>
    <script src="js/performance-cache.js" defer></script>
    <script src="js/profile.js" defer></script>

    <script>
        // Test script loading
        console.log('=== DEBUG STEP 5: PROFILE HTML STRUCTURE ===');
        console.log('1. Script loading test:');
        console.log('- search-section-component.js loaded:', typeof SearchSectionComponent !== 'undefined');
        console.log('- config.js loaded:', typeof window.APP_CONFIG !== 'undefined');
        console.log('- performance-cache.js loaded:', typeof window.performanceCache !== 'undefined');
        console.log('- profile.js loaded:', typeof window.switchTab !== 'undefined');
        
        // Test component registration
        console.log('2. Component registration test:');
        console.log('- Custom element defined:', customElements.get('search-section-component') !== undefined);
        
        // Test component initialization
        console.log('3. Component initialization test:');
        setTimeout(() => {
            const component = document.querySelector('search-section-component');
            console.log('- Component found:', component !== null);
            console.log('- Shadow root created:', component?.shadowRoot !== null);
            console.log('- Component initialized:', component?.shadowRoot?.innerHTML.includes('search') || false);
            
            // Test if search functionality works
            const searchInput = component?.shadowRoot?.querySelector('input[type="text"]');
            console.log('- Search input found:', searchInput !== null);
            
            if (searchInput) {
                console.log('✅ Search component is working!');
            } else {
                console.log('❌ Search component is broken!');
            }
        }, 500);
    </script>
</body>
</html> 