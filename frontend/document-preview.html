<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anteprima Documento - StudyHub</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap">
    <link rel="stylesheet" href="css/search.css">
    <link rel="stylesheet" href="css/document-preview.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.0.379/pdf_viewer.css">
    <link rel="icon" href="images/favicon.png" type="image/png">
    <!-- Favicon removed for CSP compliance -->
</head>
<body>
    <!-- Header matching the image -->
    <header class="header">
        <a href="search.html" class="logo">
            <img src="images/Logo.png" alt="Uniclarity">
        </a>
        
        <!-- Navigation Menu -->
        <nav class="nav-menu">
            <a href="search.html" class="nav-link">Home</a>
            <a href="#about" class="nav-link">About us</a>
            <a href="#faq" class="nav-link">FAQ</a>
        </nav>
        
        <div class="auth-buttons">
            <div class="divider"></div>
            <a href="upload.html" class="nav-link">Carica</a>
            <div class="user-info">
                <div class="user-avatar" id="userAvatar">
                    <svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><path fill="#000" fill-rule="evenodd" d="M256 42.667A213.333 213.333 0 0 1 469.334 256c0 117.821-95.513 213.334-213.334 213.334c-117.82 0-213.333-95.513-213.333-213.334C42.667 138.18 138.18 42.667 256 42.667m21.334 234.667h-42.667c-52.815 0-98.158 31.987-117.715 77.648c30.944 43.391 81.692 71.685 139.048 71.685s108.104-28.294 139.049-71.688c-19.557-45.658-64.9-77.645-117.715-77.645M256 106.667c-35.346 0-64 28.654-64 64s28.654 64 64 64s64-28.654 64-64s-28.653-64-64-64"/></svg>
                </div>
                <div class="user-dropdown" id="userDropdown">
                    <div class="dropdown-user-info">
                        <div class="dropdown-avatar" id="dropdownAvatar"></div>
                        <div class="dropdown-user-details">
                            <span class="dropdown-user-name" id="dropdownUserName"></span>
                            <span class="dropdown-user-email" id="dropdownUserEmail"></span>
                        </div>
                    </div>
                    <div class="dropdown-divider"></div>
                    <a href="upload.html" class="dropdown-item">
                        <i class="material-symbols-outlined">upload</i>
                        <span>Upload File</span>
                    </a>
                    <a href="#" class="dropdown-item" id="userFavorites">
                        <i class="material-symbols-outlined">favorite</i>
                        <span>My Favorites</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item" id="logoutBtn">
                        <i class="material-symbols-outlined">logout</i>
                        <span>Logout</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="preview-main">
    </main>

    <!-- Reviews Overlay -->
    <div class="reviews-overlay" id="reviewsOverlay">
        <div class="reviews-overlay-content">
            <div class="reviews-overlay-header">
                <h2>
                    <span class="material-symbols-outlined">rate_review</span>
                    Recensioni
                </h2>
                <button class="close-overlay-btn" data-action="close-reviews">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            
            <div class="reviews-overlay-body">
                <div class="reviews-summary">
                    <div class="overall-rating">
                        <div class="rating-display">
                            <div class="big-stars"></div>
                            <span class="big-rating-score">0.0</span>
                        </div>
                        <span class="total-reviews">Basato su 0 recensioni</span>
                    </div>
                    <button class="add-review-btn" data-action="show-review-form">
                        <span class="material-symbols-outlined">add</span>
                        Aggiungi Recensione
                    </button>
                </div>
                
                <div class="reviews-list" id="reviewsList">
                    <!-- Reviews will be populated here -->
                </div>
                
                <div class="add-review-form" id="addReviewForm" style="display: none;">
                    <h3>Aggiungi la tua recensione</h3>
                    <div class="rating-input">
                        <label>Valutazione:</label>
                        <div class="star-rating">
                            <span class="star-input" data-rating="1">★</span>
                            <span class="star-input" data-rating="2">★</span>
                            <span class="star-input" data-rating="3">★</span>
                            <span class="star-input" data-rating="4">★</span>
                            <span class="star-input" data-rating="5">★</span>
                        </div>
                    </div>
                    <div class="review-text-input">
                        <label for="reviewComment">Commento:</label>
                        <textarea id="reviewComment" placeholder="Condividi la tua esperienza con questo documento..." rows="4"></textarea>
                    </div>
                    <div class="review-form-actions">
                        <button class="cancel-review-btn" data-action="hide-review-form">Annulla</button>
                        <button class="submit-review-btn" data-action="submit-review">Invia Recensione</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/config.js"></script>
<script type="module" src="js/document-preview.js?v=1.1"></script>
</body>
</html> 